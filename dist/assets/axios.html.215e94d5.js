import{_ as e,r as o,o as c,c as l,a as n,b as p,d as s,e as t}from"./app.2b0ce185.js";const i={},u={class:"custom-container info"},r=n("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[n("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[n("circle",{cx:"12",cy:"12",r:"9"}),n("path",{d:"M12 8h.01"}),n("path",{d:"M11 12h1v4h1"})])],-1),k=n("p",{class:"custom-container-title"},"INFO",-1),d=s("\u8FD9\u91CC\u53EA\u4ECB\u7ECD\u4E00\u4E9B\u5E38\u7528\u7684\uFF0C\u5177\u4F53\u7684\u4F7F\u7528\u65B9\u6CD5\u8BF7\u53C2\u8003axios\u5B98\u65B9\u6587\u6863 "),v={href:"https://www.axios-http.cn/docs/intro",target:"_blank",rel:"noopener noreferrer"},m=s("axios\u4E2D\u6587\u7F51"),b=t(`<ul><li>AJAX\u662F\u4E00\u79CD\u6280\u672F\uFF0C\u5728\u4E0D\u91CD\u65B0\u52A0\u8F7D\u9875\u9762\u7684\u60C5\u51B5\u4E0B\u53D1\u9001\u8BF7\u6C42\u7ED9\u670D\u52A1\u5668\u3002\u4F46\u662F\u539F\u751F\u7684\u4EE3\u7801\u6666\u6DA9\u96BE\u61C2\uFF0C\u5BF9\u4E8E\u521D\u5B66\u8005\u5F88\u4E0D\u53CB\u597D\u3002</li><li>\u6709\u4E00\u4E9B\u4EBA\u5BF9\u539F\u751F\u4EE3\u7801\u8FDB\u884C\u4E86\u5C01\u88C5\uFF0C\u7B80\u5316\u4E86\u539F\u751F\u4EE3\u7801\u7684\u64CD\u4F5C\u3002\u521D\u5B66\u8005\u5C31\u53EF\u4EE5\u4F7F\u7528\u7B80\u5316\u540E\u7684\u4EE3\u7801\u5B8C\u6210ajax\u64CD\u4F5C\u3002</li><li><code>axios</code>\u662F\u76EE\u524D\u6700\u4E3A\u6D41\u884C\u7684\u4EE3\u7801\u5E93\uFF0C\u5728\u6D4F\u89C8\u5668\u7AEF\u662F\u57FA\u4E8E<code>Ajax</code>\u5C01\u88C5</li></ul><h3 id="axios-get\u8BF7\u6C42\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#axios-get\u8BF7\u6C42\u8BED\u6CD5" aria-hidden="true">#</a> axios - get\u8BF7\u6C42\u8BED\u6CD5</h3><p><strong>\u8BED\u6CD5\u4E00</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u65E0\u53C2\u6570</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>

<span class="token comment">// \u6709\u53C2\u6570,\u53C2\u6570\u62FC\u63A5\u5728URL\u4E2D</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token operator">?</span>key<span class="token operator">=</span>value<span class="token operator">&amp;</span>key<span class="token operator">=</span>value<span class="token punctuation">)</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">// 1. \u65E0\u53C2\u8BF7\u6C42</span>
      axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://autumnfish.cn/api/joke&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
   
<span class="token comment">// 2. \u6709\u53C2\u6570\uFF0C\u901A\u8FC7url\u4F20\u9012</span>
      axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://autumnfish.cn/api/joke/list?num=3&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u8BED\u6CD5\u4E8C(\u63A8\u8350)</strong></p><p>\u4F7F\u7528 params \u53D1\u8D77\u5E26\u53C2\u8BF7\u6C42</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>\u63A8\u8350\u65B9\u5F0F
<span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&#39;https://autumnfish.cn/api/joke&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">num</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="axios-post\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#axios-post\u8BF7\u6C42" aria-hidden="true">#</a> axios - post\u8BF7\u6C42</h3><p><strong>\u8BED\u6CD5\u4E00</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span>value<span class="token punctuation">,</span><span class="token literal-property property">key</span><span class="token operator">:</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u8BED\u6CD5\u4E8C(\u63A8\u8350)</strong></p><p><code>data</code> \u662F\u4F5C\u4E3A\u8BF7\u6C42\u4F53\u88AB\u53D1\u9001\u7684\u6570\u636E</p><ul><li>\u4EC5\u9002\u7528 <em>PUT</em> , <em>POST</em> , <em>DELETE</em> \u548C <em>ATCH</em> \u8BF7\u6C42\u65B9\u6CD5</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>\u63A8\u8350\u65B9\u5F0F
<span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&#39;https://autumnfish.cn/api/user/check&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span>zs<span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8BBE\u7F6Econtent-type-\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u8BBE\u7F6Econtent-type-\u8BED\u6CD5" aria-hidden="true">#</a> \u8BBE\u7F6Econtent-type \u8BED\u6CD5</h3><ul><li><p>\u5982\u679C\u662F\u4EBA\u4E3A\u7684\u4F7F\u7528axios\u5411\u670D\u52A1\u5668\u53D1\u9001\u6570\u636E\uFF0C\u5C31\u9700\u8981\u8BBE\u7F6E\u76F8\u5E94\u7684 content-type</p></li><li><p>\u524D\u7AEF\uFF0C\u53EA\u4F1A\u5411\u670D\u52A1\u5668\u53D1\u9001\u6570\u636E\uFF0C\u6240\u4EE5\u53EA\u9700\u8981\u8BBE\u7F6E\u8BF7\u6C42\u62A5\u6587\u7684 content-type\u5373\u53EF</p></li></ul>`,16),h={href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Content-Type",target:"_blank",rel:"noopener noreferrer"},g=s("\u5177\u4F53\u53C2\u8003MDN"),y=t(`<p><strong>axios \u8BBE\u7F6E content-type</strong></p><blockquote><p>axios \u5728\u914D\u7F6E\u5BF9\u8C61\u4E2D\u901A\u8FC7 headers \u6765\u8BBE\u7F6Econtent-type\uFF0C\u683C\u5F0F\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>data<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">headers</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string-property property">&#39;content-type&#39;</span><span class="token operator">:</span><span class="token string">&#39;\u5185\u5BB9\u683C\u5F0F\u7C7B\u578B&#39;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token string-property property">&#39;content-type&#39;</span><span class="token operator">:</span><span class="token string">&#39;\u5185\u5BB9\u683C\u5F0F\u7C7B\u578B&#39;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u63A5\u53E3\u4E2D\u7684-content-type" tabindex="-1"><a class="header-anchor" href="#\u63A5\u53E3\u4E2D\u7684-content-type" aria-hidden="true">#</a> \u63A5\u53E3\u4E2D\u7684 content-type</h3><p>\u4E0D\u540C\u63A5\u53E3\u5BF9\u4E8E\u63D0\u4EA4\u6570\u636E\u683C\u5F0F\u7684\u8981\u6C42\u7565\u6709\u4E0D\u540C\uFF0C\u54B1\u4EEC\u7ED3\u5408<strong>3</strong>\u4E2A\u6D4B\u8BD5\u7528\u63A5\u53E3\uFF0C\u6765\u770B\u770B\u5982\u4F55\u901A\u8FC7<code>axios</code>\u5982\u4F55\u63D0\u4EA4\u4E0D\u540C\u683C\u5F0F\u7684\u6570\u636E,\u4E4B\u540E\u770B\u5230\u7C7B\u4F3C\u7684\u9700\u6C42\u80FD\u591F\u9009\u62E9\u5BF9\u5E94\u7684\u683C\u5F0F\u8FDB\u884C\u63D0\u4EA4</p><p><strong>\u6D4B\u8BD5\u63A5\u53E3</strong></p><p><em>1.FormData\u6570\u636E\u63D0\u4EA4 \u63A5\u53E3</em></p><blockquote><ul><li>\u8BF7\u6C42\u5730\u5740\uFF1Ahttps://autumnfish.cn/api/form/formdata</li><li>\u8BF7\u6C42\u65B9\u6CD5\uFF1A<code>post</code></li><li>\u8BF7\u6C42\u53C2\u6570\uFF1A <ul><li>\u8BF4\u660E:<code>content-type</code>\u4E3A <code>multipart/form-data</code></li><li>\u63D0\u4EA4<code>FormData</code>\u5373\u53EF</li></ul></li></ul></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&#39;https://autumnfish.cn/api/form/formdata&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">data</span><span class="token operator">:</span>fd<span class="token punctuation">,</span>
          <span class="token literal-property property">headers</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string-property property">&#39;content-type&#39;</span><span class="token operator">:</span><span class="token string">&#39;multipart/form-data&#39;</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>2.application/json\u6570\u636E\u63D0\u4EA4 \u63A5\u53E3</em></p>`,10),f=s("\u8BF7\u6C42\u5730\u5740\uFF1A"),x={href:"https://autumnfish.cn/api/form/json",target:"_blank",rel:"noopener noreferrer"},_=s("https://autumnfish.cn/api/form/json"),j=n("li",null,[s("\u8BF7\u6C42\u65B9\u6CD5\uFF1A"),n("code",null,"post")],-1),w=n("li",null,[s("\u8BF7\u6C42\u53C2\u6570\uFF1A "),n("ul",null,[n("li",null,[s("\u8BF4\u660E:"),n("code",null,"content-type"),s("\u4E3A "),n("code",null,"application/json")]),n("li",null,[s("\u63D0\u4EA4"),n("strong",null,"JS\u5BF9\u8C61"),s("\u5373\u53EF")])])],-1),q=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&#39;https://autumnfish.cn/api/form/json&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;thinker&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">headers</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string-property property">&#39;content-type&#39;</span><span class="token operator">:</span><span class="token string">&#39;application/json&#39;</span><span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>3.application/x-www-form-urlencoded\u6570\u636E\u63D0\u4EA4 \u63A5\u53E3</em></p>`,2),T=s("\u8BF7\u6C42\u5730\u5740\uFF1A"),E={href:"https://autumnfish.cn/api/form/urlencoded",target:"_blank",rel:"noopener noreferrer"},N=s("https://autumnfish.cn/api/form/urlencoded"),C=n("li",null,[s("\u8BF7\u6C42\u65B9\u6CD5\uFF1A"),n("code",null,"post")],-1),P=n("li",null,[s("\u8BF7\u6C42\u53C2\u6570\uFF1A "),n("ul",null,[n("li",null,[s("\u8BF4\u660E:"),n("code",null,"content-type"),s("\u4E3A "),n("code",null,"application/x-www-form-urlencoded")]),n("li",null,[s("\u901A\u8FC7data\u63D0\u4EA4"),n("code",null,"key=value&key2=valu2"),s("\u8FD9\u79CD\u683C\u5F0F")])])],-1),z=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&#39;https://autumnfish.cn/api/form/urlencoded&#39;</span><span class="token punctuation">,</span>
     <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span>
     <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;thinker&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token literal-property property">headers</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string-property property">&#39;content-type&#39;</span><span class="token operator">:</span><span class="token string">&#39;application/x-www-form-urlencoded&#39;</span><span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="axios\u9ED8\u8BA4\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#axios\u9ED8\u8BA4\u914D\u7F6E" aria-hidden="true">#</a> axios\u9ED8\u8BA4\u914D\u7F6E</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>\u5168\u5C40\u9ED8\u8BA4\u8BF7\u6C42\u57FA\u5730\u5740
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">&#39;https://api.example.com&#39;</span><span class="token punctuation">;</span>

\u5168\u5C40\u9ED8\u8BA4token
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>common<span class="token punctuation">[</span><span class="token string">&#39;Authorization&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">AUTH_TOKEN</span><span class="token punctuation">;</span>

\u5168\u5C40\u9ED8\u8BA4\u8BF7\u6C42\u5934\u914D\u7F6E
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>post<span class="token punctuation">[</span><span class="token string">&#39;Content-Type&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;application/x-www-form-urlencoded&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u62E6\u622A\u5668" tabindex="-1"><a class="header-anchor" href="#\u62E6\u622A\u5668" aria-hidden="true">#</a> \u62E6\u622A\u5668</h3><p>\u5728\u8BF7\u6C42\u6216\u54CD\u5E94\u88AB then \u6216 catch \u5904\u7406\u524D\u62E6\u622A\u5B83\u4EEC\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u6DFB\u52A0\u8BF7\u6C42\u62E6\u622A\u5668</span>
axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5728\u53D1\u9001\u8BF7\u6C42\u4E4B\u524D\u505A\u4E9B\u4EC0\u4E48</span>
    <span class="token keyword">return</span> config<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5BF9\u8BF7\u6C42\u9519\u8BEF\u505A\u4E9B\u4EC0\u4E48</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u6DFB\u52A0\u54CD\u5E94\u62E6\u622A\u5668</span>
axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 2xx \u8303\u56F4\u5185\u7684\u72B6\u6001\u7801\u90FD\u4F1A\u89E6\u53D1\u8BE5\u51FD\u6570\u3002</span>
    <span class="token comment">// \u5BF9\u54CD\u5E94\u6570\u636E\u505A\u70B9\u4EC0\u4E48</span>
    <span class="token keyword">return</span> response<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8D85\u51FA 2xx \u8303\u56F4\u7684\u72B6\u6001\u7801\u90FD\u4F1A\u89E6\u53D1\u8BE5\u51FD\u6570\u3002</span>
    <span class="token comment">// \u5BF9\u54CD\u5E94\u9519\u8BEF\u505A\u70B9\u4EC0\u4E48</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6F14\u793A</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u8BF7\u6C42\u62E6\u622A\u5668\u6267\u884C\u4E86&#39;</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> config
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

        axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u54CD\u5E94\u62E6\u622A\u5668\u6267\u884C\u4E86&#39;</span><span class="token punctuation">)</span>
            <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token string">&#39;jh&#39;</span>  <span class="token comment">//\u8BBE\u7F6E\u54CD\u5E94\u7684\u6570\u636E</span>
            <span class="token keyword">return</span> a
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&#39;http://ajax-api.itheima.net/register&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token literal-property property">username</span><span class="token operator">:</span><span class="token string">&#39;ahsdfsdddjkmzzh&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">password</span><span class="token operator">:</span><span class="token string">&#39;123456&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u8BF7\u6C42&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u54CD\u5E94&#39;</span><span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token comment">//\u6267\u884C\u987A\u5E8F</span>
                    \u8BF7\u6C42
\u8BBE\u7F6E\u62E6\u622A\u5668<span class="token punctuation">.</span>html<span class="token operator">:</span><span class="token number">14</span>   \u8BF7\u6C42\u62E6\u622A\u5668\u6267\u884C\u4E86
\u8BBE\u7F6E\u62E6\u622A\u5668<span class="token punctuation">.</span>html<span class="token operator">:</span><span class="token number">19</span>   \u54CD\u5E94\u62E6\u622A\u5668\u6267\u884C\u4E86
\u8BBE\u7F6E\u62E6\u622A\u5668<span class="token punctuation">.</span>html<span class="token operator">:</span><span class="token number">34</span>   \u54CD\u5E94
\u8BBE\u7F6E\u62E6\u622A\u5668<span class="token punctuation">.</span>html<span class="token operator">:</span><span class="token number">35</span>   jh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u4F60\u7A0D\u540E\u9700\u8981\u79FB\u9664\u62E6\u622A\u5668\uFF0C\u53EF\u4EE5\u8FD9\u6837\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> myInterceptor <span class="token operator">=</span> axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/*...*/</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">eject</span><span class="token punctuation">(</span>myInterceptor<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u7ED9\u81EA\u5B9A\u4E49\u7684 axios \u5B9E\u4F8B\u6DFB\u52A0\u62E6\u622A\u5668\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const instance = axios.create();
instance.interceptors.request.use(function () {/*...*/});
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u9519\u8BEF\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#\u9519\u8BEF\u5904\u7406" aria-hidden="true">#</a> \u9519\u8BEF\u5904\u7406</h3>`,13),A={href:"https://www.axios-http.cn/docs/handling_errors",target:"_blank",rel:"noopener noreferrer"},L=s("\u8BF7\u6EDA\u53BB\u770B\u6587\u6863"),H=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/user/12345&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u8BF7\u6C42\u6210\u529F\u53D1\u51FA\u4E14\u670D\u52A1\u5668\u4E5F\u54CD\u5E94\u4E86\u72B6\u6001\u7801\uFF0C\u4F46\u72B6\u6001\u4EE3\u7801\u8D85\u51FA\u4E86 2xx \u7684\u8303\u56F4</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u8BF7\u6C42\u5DF2\u7ECF\u6210\u529F\u53D1\u8D77\uFF0C\u4F46\u6CA1\u6709\u6536\u5230\u54CD\u5E94</span>
      <span class="token comment">// \`error.request\` \u5728\u6D4F\u89C8\u5668\u4E2D\u662F XMLHttpRequest \u7684\u5B9E\u4F8B\uFF0C</span>
      <span class="token comment">// \u800C\u5728node.js\u4E2D\u662F http.ClientRequest \u7684\u5B9E\u4F8B</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u53D1\u9001\u8BF7\u6C42\u65F6\u51FA\u4E86\u70B9\u95EE\u9898</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Error&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1);function I(O,S){const a=o("ExternalLinkIcon");return c(),l("div",null,[n("div",u,[r,k,n("p",null,[d,n("a",v,[m,p(a)])])]),b,n("p",null,[n("a",h,[g,p(a)])]),y,n("blockquote",null,[n("ul",null,[n("li",null,[f,n("a",x,[_,p(a)])]),j,w])]),q,n("blockquote",null,[n("ul",null,[n("li",null,[T,n("a",E,[N,p(a)])]),C,P])]),z,n("p",null,[n("a",A,[L,p(a)])]),H])}var D=e(i,[["render",I],["__file","axios.html.vue"]]);export{D as default};
